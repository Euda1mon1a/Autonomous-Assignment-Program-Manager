# =============================================================================
# Residency Scheduler - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control
# =============================================================================

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
# PostgreSQL password for the scheduler user
# Use a strong, unique password in production
DB_PASSWORD=your_secure_database_password_here

# -----------------------------------------------------------------------------
# Security Configuration
# -----------------------------------------------------------------------------
# Secret key for JWT token signing
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(64))"
# CRITICAL: Use a unique, random value in production
SECRET_KEY=your_secret_key_here_generate_a_random_64_char_string

# Webhook secret for validating incoming webhook requests
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(64))"
# CRITICAL: Use a unique, random value in production (minimum 32 characters)
WEBHOOK_SECRET=your_webhook_secret_here_generate_a_random_64_char_string

# Redis password for authentication
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
# For development: defaults to 'dev_only_password' if not set
# For production: MUST be set to a strong random value
REDIS_PASSWORD=your_redis_password_here_generate_a_random_string

# -----------------------------------------------------------------------------
# Application Configuration
# -----------------------------------------------------------------------------
# Debug mode - set to false in production
# Enables detailed error messages and hot reload in development
DEBUG=true

# -----------------------------------------------------------------------------
# CORS Configuration
# -----------------------------------------------------------------------------
# Allowed origins for cross-origin requests
# In production, set to your actual frontend domain
# Format: JSON array of strings
CORS_ORIGINS=["http://localhost:3000"]

# -----------------------------------------------------------------------------
# Frontend Configuration
# -----------------------------------------------------------------------------
# Backend API URL that the frontend will use
# In production, use your actual backend domain/IP
NEXT_PUBLIC_API_URL=http://localhost:8000

# -----------------------------------------------------------------------------
# MCP Server Configuration
# -----------------------------------------------------------------------------
# Log level for MCP server (DEBUG, INFO, WARNING, ERROR)
# DEBUG shows all tool invocations and API calls
MCP_LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# OpenTelemetry / Distributed Tracing Configuration
# -----------------------------------------------------------------------------
# Enable distributed tracing (default: false)
TELEMETRY_ENABLED=false

# Service identification
TELEMETRY_SERVICE_NAME=residency-scheduler
TELEMETRY_ENVIRONMENT=development

# Sampling configuration (0.0 to 1.0, 1.0 = 100%)
TELEMETRY_SAMPLING_RATE=1.0

# Console debug output (useful for local development)
TELEMETRY_CONSOLE_EXPORT=false

# Exporter configuration
# Supported types: otlp_grpc, otlp_http, jaeger, zipkin, console
TELEMETRY_EXPORTER_TYPE=otlp_grpc

# OTLP endpoint (gRPC on port 4317, HTTP on port 4318)
TELEMETRY_EXPORTER_ENDPOINT=http://localhost:4317

# Use insecure connection (no TLS) - set to false in production
TELEMETRY_EXPORTER_INSECURE=true

# Optional: Authentication headers (JSON format)
# TELEMETRY_EXPORTER_HEADERS={"Authorization": "Bearer token"}

# Instrumentation toggles
TELEMETRY_TRACE_SQLALCHEMY=true
TELEMETRY_TRACE_REDIS=true
TELEMETRY_TRACE_HTTP=true

# -----------------------------------------------------------------------------
# LLM Router Configuration
# -----------------------------------------------------------------------------
# Default LLM provider (ollama, anthropic)
# ollama = local Docker container, anthropic = cloud API
LLM_DEFAULT_PROVIDER=ollama

# Enable fallback to other providers on failure
LLM_ENABLE_FALLBACK=true

# Airgap mode - disable all cloud providers (local only)
# Set to true for offline/secure deployments
LLM_AIRGAP_MODE=false

# Ollama configuration (local LLM)
OLLAMA_URL=http://ollama:11434
OLLAMA_DEFAULT_MODEL=llama3.2
OLLAMA_FAST_MODEL=llama3.2
OLLAMA_TOOL_MODEL=mistral
OLLAMA_TIMEOUT=60.0

# Anthropic API configuration (cloud LLM)
# Leave empty for airgap mode or local-only operation
# Get API key from: https://console.anthropic.com/
ANTHROPIC_API_KEY=
ANTHROPIC_DEFAULT_MODEL=claude-3-5-sonnet-20241022

# -----------------------------------------------------------------------------
# Optional: PostgreSQL Direct Connection (for local development)
# -----------------------------------------------------------------------------
# Full database URL (usually constructed automatically in docker-compose)
# DATABASE_URL=postgresql://scheduler:your_password@localhost:5432/residency_scheduler
