# Stack Health Audit

**Generated:** 2026-01-01T19:25:49.625223
**Status:** RED

## Summary

| Check | Status | Count | Trend |
|-------|--------|-------|-------|
| Frontend Type Check | FAIL | 20 | (new) |
| Frontend Lint | PASS | 0 | = (no change) |
| Frontend Build | SKIP | 0 | = (no change) |
| Backend Lint (Ruff) | SKIP | 0 | = (no change) |
| Backend Type Check (mypy) | SKIP | 0 | (new) |
| Migration State | SKIP | 0 | = (no change) |
| Alembic Head Sync | PASS | 0 | (new) |
| Docker Containers | PASS | 7 | = (no change) |
| API Health | PASS | 0 | (new) |
| Sacred Backups | WARN | 1 | (new) |

## Details

### Frontend Type Check

**Duration:** 2066ms

**Issues (20):**
```
src/__mocks__/next/navigation.ts(51,61): error TS17019: '?' at the end of a type is not valid TypeScript syntax. Did you mean to write '"push" | undefined'?
src/__mocks__/next/router.ts(56,133): error TS2322: Type 'ComponentType<P & { router: NextRouter; }>' is not assignable to type 'ComponentType<P>'.
src/components/form/FilterPanel.tsx(130,21): error TS2322: Type 'string | boolean | { start: string; end: string; } | string[]' is not assignable to type 'boolean | undefined'.
src/components/schedule/MonthView.tsx(269,88): error TS2322: Type '{ className: string; "aria-hidden": "true"; title: string; }' is not assignable to type 'IntrinsicAttributes & Omit<LucideProps, "ref"> & RefAttributes<SVGSVGElement>'.
src/components/ui/DataTable.tsx(67,11): error TS18049: 'aVal' is possibly 'null' or 'undefined'.
src/components/ui/DataTable.tsx(67,18): error TS18049: 'bVal' is possibly 'null' or 'undefined'.
src/components/ui/DataTable.tsx(68,11): error TS18049: 'aVal' is possibly 'null' or 'undefined'.
src/components/ui/DataTable.tsx(68,18): error TS18049: 'bVal' is possibly 'null' or 'undefined'.
src/components/ui/DataTable.tsx(169,25): error TS2322: Type 'string | number | bigint | boolean | ReactElement<any, string | JSXElementConstructor<any>> | Iterable<ReactNode> | Promise<...> | Date | null | undefined' is not assignable to type 'ReactNode'.
src/hooks/useClaudeChat.ts(361,35): error TS2345: Argument of type 'StreamMetadata | undefined' is not assignable to parameter of type 'CodeBlockMetadata'.
src/hooks/useClaudeChat.ts(363,34): error TS2345: Argument of type 'StreamMetadata | undefined' is not assignable to parameter of type 'ArtifactMetadata'.
src/hooks/useClaudeChat.ts(369,29): error TS2345: Argument of type '(prev: ChatMessage[]) => (ChatMessage | { content: string; codeBlocks: CodeBlockMetadata[]; artifacts: ArtifactMetadata[]; ... 4 more ...; error?: string | undefined; })[]' is not assignable to parameter of type 'SetStateAction<ChatMessage[]>'.
src/hooks/useClaudeChat.ts(392,21): error TS2345: Argument of type '(prev: ChatMessage[]) => (ChatMessage | { isStreaming: false; content: string; codeBlocks: CodeBlockMetadata[]; artifacts: ArtifactMetadata[]; id: string; role: "user" | ... 1 more ... | "assistant"; timestamp: Date; error?: string | undefined; })[]' is not assignable to parameter of type 'SetStateAction<ChatMessage[]>'.
src/lib/errors/error-boundary.tsx(194,5): error TS2353: Object literal may only specify known properties, and 'error' does not exist in type '{ throwError: (error: Error) => void; resetError: () => void; }'.
src/lib/errors/error-handler.ts(267,5): error TS2322: Type '(error: unknown) => { field: string; message: string; }[]' is not assignable to type '(error: unknown) => Record<string, string> | null'.
src/test-utils/index.tsx(52,5): error TS2353: Object literal may only specify known properties, and 'logger' does not exist in type 'QueryClientConfig'.
src/test-utils/index.tsx(335,25): error TS2339: Property 'toBeInTheDocument' does not exist on type 'JestMatchers<HTMLElement | null>'.
src/test-utils/index.tsx(353,35): error TS2345: Argument of type 'RegExp' is not assignable to parameter of type 'string'.
src/test-utils/index.tsx(354,27): error TS2339: Property 'toBeInTheDocument' does not exist on type 'Matchers<void, HTMLElement | null>'.
src/utils/lazy-loader.ts(62,36): error TS2769: No overload matches this call.
```

### Frontend Lint

**Duration:** 1836ms

**Issues (30):**
```
./src/app/absences/page.tsx
65:9  Warning: The 'people' logical expression could make the dependencies of useMemo Hook (at line 75) change on every render. To fix this, wrap the initialization of 'people' in its own useMemo() Hook.  react-hooks/exhaustive-deps
66:9  Warning: The 'allAbsences' logical expression could make the dependencies of useMemo Hook (at line 75) change on every render. To fix this, wrap the initialization of 'allAbsences' in its own useMemo() Hook.  react-hooks/exhaustive-deps
./src/app/admin/audit/page.tsx
15:3  Warning: 'Calendar' is defined but never used.  @typescript-eslint/no-unused-vars
22:3  Warning: 'ChevronDown' is defined but never used.  @typescript-eslint/no-unused-vars
23:3  Warning: 'ChevronUp' is defined but never used.  @typescript-eslint/no-unused-vars
27:3  Warning: 'ExternalLink' is defined but never used.  @typescript-eslint/no-unused-vars
33:3  Warning: 'AuditAction' is defined but never used.  @typescript-eslint/no-unused-vars
35:3  Warning: 'AuditFilters' is defined but never used.  @typescript-eslint/no-unused-vars
./src/app/admin/game-theory/page.tsx
21:10  Warning: 'PayoffMatrix' is defined but never used.  @typescript-eslint/no-unused-vars
26:10  Warning: 'STRATEGY_COLORS' is defined but never used.  @typescript-eslint/no-unused-vars
32:10  Warning: 'showTournamentModal' is assigned a value but never used.  @typescript-eslint/no-unused-vars
33:10  Warning: 'showEvolutionModal' is assigned a value but never used.  @typescript-eslint/no-unused-vars
648:87  Warning: Unexpected any. Specify a different type.  @typescript-eslint/no-explicit-any
./src/app/admin/health/page.tsx
34:3  Warning: 'Settings' is defined but never used.  @typescript-eslint/no-unused-vars
38:3  Warning: 'ServiceHealth' is defined but never used.  @typescript-eslint/no-unused-vars
39:3  Warning: 'ServiceComponent' is defined but never used.  @typescript-eslint/no-unused-vars
40:3  Warning: 'DatabaseHealth' is defined but never used.  @typescript-eslint/no-unused-vars
41:3  Warning: 'CacheHealth' is defined but never used.  @typescript-eslint/no-unused-vars
42:3  Warning: 'QueueHealth' is defined but never used.  @typescript-eslint/no-unused-vars
43:3  Warning: 'ApiHealth' is defined but never used.  @typescript-eslint/no-unused-vars
44:3  Warning: 'ResourceMetrics' is defined but never used.  @typescript-eslint/no-unused-vars
45:3  Warning: 'HealthAlert' is defined but never used.  @typescript-eslint/no-unused-vars
46:3  Warning: 'AlertSeverity' is defined but never used.  @typescript-eslint/no-unused-vars
47:3  Warning: 'AlertStatus' is defined but never used.  @typescript-eslint/no-unused-vars
./src/app/admin/scheduling/page.tsx
26:3  Warning: 'Minus' is defined but never used.  @typescript-eslint/no-unused-vars
```

### Frontend Build

**Note:** Skipped (--quick mode)

### Backend Lint (Ruff)

**Note:** ruff not installed

**Duration:** 1ms

### Backend Type Check (mypy)

**Note:** mypy not installed

**Duration:** 2ms

### Migration State

**Note:** alembic not installed

**Duration:** 1ms

### Alembic Head Sync

**Duration:** 4696ms

**Issues (4):**
```
Using Docker container for alembic checks
Heads: 20260102_populate_colors
Current: 20260102_populate_colors
Sync status: IN SYNC
```

### Docker Containers

**Duration:** 120ms

**Issues (7):**
```
scheduler-local-backend: running (healthy)
scheduler-local-celery-beat: running
scheduler-local-celery-worker: running (healthy)
scheduler-local-db: running (healthy)
scheduler-local-frontend: running (healthy)
scheduler-local-n8n: running
scheduler-local-redis: running (healthy)
```

### API Health

**Duration:** 35ms

**Issues (5):**
```
Health endpoint: OK
CORS check: SKIPPED (HTTP Error 405: Method Not Allowed)
Blocks API: OK (730 returned for limit=5)
Pagination: SKIPPED (auth required)
Schema validation: SKIPPED (auth required)
```

### Sacred Backups

**Issues (2):**
```
Sacred backups: NONE FOUND
Regular backups: none found
```

## Trend Analysis

Compared to previous run:


---
*Generated by scripts/ops/stack_audit.py*